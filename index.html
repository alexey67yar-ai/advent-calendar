<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Адвент-календарь</title>

<style>
    body {
        margin: 0;
        display: flex;
        justify-content: center;
        background: #f4f4f4;
        font-family: Arial, sans-serif;
    }

    .calendar-container {
        position: relative;
        width: 100%;
        max-width: 1280px;
        aspect-ratio: 1280/720;
        margin: 0 auto;
    }

    .calendar-image {
        width: 100%;
        height: 100%;
        display: block;
        border-radius: 4px;
    }

    .day {
        position: absolute;
        width: 7%;
        height: 8%;
        cursor: pointer;
        border-radius: 8px;
    }

    .tooltip {
        position: absolute;
        background: rgba(0,0,0,0.85);
        color: white;
        padding: 8px 12px;
        border-radius: 6px;
        font-size: 14px;
        pointer-events: none;
        opacity: 0;
        transform: translateY(-8px);
        transition: opacity 0.18s ease, transform 0.18s ease;
        white-space: nowrap;
        z-index: 999;
    }

    .modal-bg {
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background: rgba(0,0,0,0.5);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 1000;
    }

    .modal {
        background: white;
        padding: 20px;
        border-radius: 12px;
        width: 90%;
        max-width: 350px;
        text-align: center;
    }

    .close-btn {
        margin-top: 15px;
        cursor: pointer;
        background: #e0e0e0;
        padding: 8px 14px;
        border-radius: 6px;
        display: inline-block;
    }

    .modal a {
        color: #0077ff;
        text-decoration: none;
    }

    .modal a:hover {
        text-decoration: underline;
    }

    .snowflake {
        position: fixed;
        top: -10px;
        color: white;
        pointer-events: none;
        animation-name: fall;
        animation-timing-function: linear;
        z-index: 2000;
    }

    @keyframes fall {
        to {
            transform: translateY(110vh);
        }
    }
</style>
</head>
<body>

<div class="calendar-container">
    <img src="advent.png" class="calendar-image" alt="Адвент календарь">

    <!-- 26 ноября -->
    <div class="day"
     style="left:28.1%; top:18%;"
     data-title="26 ноября"
     data-html="<strong>День домашней кухни «Гарри Поттер»</strong><br><br>
     Описание события:<br>
     <a href='https://t.me/c/2269438761/521' target='_blank'>Открыть пост</a><br><br>
     <strong>Событие завершено</strong><br>">
    </div>

    <!-- 27 ноября -->
    <div class="day"
     style="left:43.7%; top:18%;"
     data-title="27 ноября"
     data-html="<strong>Лучшее Соревнование Детективов</strong><br><br>
     Описание события:<br>
     <a href='https://t.me/c/2269438761/533' target='_blank'>Открыть пост</a><br><br>
     <strong>Событие завершено безоговорочной победой</strong><br>">
    </div>

    <!-- 29 ноября — 3 декабря -->
    <div class="day"
     style="left:75.4%; top:18.3%;"
     data-title="29 ноября — 3 декабря"
     data-html="<strong>Поездка в Армению</strong><br><br>
     Описание события:<br>
     <a href='https://t.me/c/2269438761/550' target='_blank'>Открыть пост</a><br><br>
     <strong>Событие завершено</strong><br>">
    </div>

    <!-- 30 ноября → координаты пересчитаны -->
    <div class="day" style="top:18%; left:87.5%;" data-title="Поездка в Армению" data-html="30 ноября"></div>

    <!-- 01 декабря -->
    <div class="day" style="top:33.3%; left:10.1%;" data-title="Поездка в Армению" data-html="01 декабря"></div>

    <!-- 02 декабря -->
    <div class="day" style="top:33.3%; left:23.4%;" data-title="Поездка в Армению" data-html="02 декабря"></div>

    <!-- 03 декабря -->
    <div class="day" style="top:33.3%; left:38.2%;" data-title="Поездка в Армению" data-html="03 декабря"></div>

    <!-- 9 декабря -->
    <div class="day"
     style="left:18%; top:48.6%;"
     data-title="9 декабря"
     data-html="<strong>Лазертаг</strong><br><br>
     Описание события:<br>
     <a href='https://t.me/c/2269438761/548' target='_blank'>Открыть пост</a><br><br>
     Записаться:<br>
     <a href='https://t.me/c/2269438761/549' target='_blank'>Голосование</a>">
    </div>

    <!-- 19 декабря -->
    <div class="day"
     style="left:63.2%; top:63.9%;"
     data-title="19 декабря"
     data-html="<strong>Корпоратив «Новый год»</strong><br><br>
     Описание события:<br>
     <a href='https://t.me/c/2034026447/496' target='_blank'>Открыть пост</a><br><br>
     Добавить встречу в календарь:<br>
     <a href='https://calendar.yandex-team.ru/event/262813514?applyToFuture=0&event_date=2025-12-19T15%3A00%3A00&layerId=1337261&show_date=2025-12-19' target='_blank'>Добавиться во встречу</a>">
    </div>

    <!-- ВСЕ ОСТАЛЬНЫЕ ЯЧЕЙКИ → аккуратно пересчитанные проценты -->
    <div class="day" style="top:22.2%; left:53.9%;"></div>
    <div class="day" style="top:36.1%; left:50.7%;"></div>
    <div class="day" style="top:36.1%; left:63.2%;"></div>
    <div class="day" style="top:38.8%; left:78.9%;"></div>
    <div class="day" style="top:41.6%; left:87.5%;"></div>

    <div class="day" style="top:50%; left:13.2%;"></div>
    <div class="day" style="top:50%; left:38.2%;"></div>
    <div class="day" style="top:50%; left:50.7%;"></div>
    <div class="day" style="top:50%; left:63.2%;"></div>
    <div class="day" style="top:52.7%; left:78.9%;"></div>
    <div class="day" style="top:55.5%; left:87.5%;"></div>

    <div class="day" style="top:65.2%; left:13.2%;"></div>
    <div class="day" style="top:65.2%; left:25.7%;"></div>
    <div class="day" style="top:65.2%; left:38.2%;"></div>
    <div class="day" style="top:65.2%; left:50.7%;"></div>
    <div class="day" style="top:65.2%; left:63.2%;"></div>
    <div class="day" style="top:67.5%; left:78.9%;"></div>
    <div class="day" style="top:69.4%; left:87.5%;"></div>

    <div class="day" style="top:75%; left:13.2%;"></div>
    <div class="day" style="top:75%; left:25.7%;"></div>

</div>

<!-- МОДАЛЬНОЕ ОКНО -->
<div class="modal-bg" id="modal-bg">
    <div class="modal" id="modal">
        <h2 id="modal-title"></h2>
        <div id="modal-html"></div>
        <div class="close-btn" id="close-btn">Закрыть</div>
    </div>
</div>

<div class="tooltip" id="tooltip"></div>

<script>
    const tooltip = document.getElementById('tooltip');
    const days = document.querySelectorAll('.day');
    const modalBg = document.getElementById('modal-bg');
    const modalTitle = document.getElementById('modal-title');
    const modalHtml = document.getElementById('modal-html');
    const closeBtn = document.getElementById('close-btn');

    days.forEach(day => {
        day.addEventListener('mousemove', e => {
            if (day.dataset.title && day.dataset.title.trim() !== "") {
                tooltip.innerText = day.dataset.title;
                tooltip.style.left = (e.pageX + 15) + "px";
                tooltip.style.top = (e.pageY - 10) + "px";
                tooltip.style.opacity = 1;
                tooltip.style.transform = "translateY(0px)";
            }
        });

        day.addEventListener('mouseleave', () => {
            tooltip.style.opacity = 0;
            tooltip.style.transform = "translateY(-8px)";
        });

        day.addEventListener('click', () => {
            if (day.dataset.title && day.dataset.title.trim() !== "") {
                modalTitle.textContent = day.dataset.title;
                modalHtml.innerHTML = day.dataset.html;
                modalBg.style.display = "flex";
            }
        });
    });

    closeBtn.addEventListener('click', () => {
        modalBg.style.display = "none";
    });

    modalBg.addEventListener('click', e => {
        if (e.target === modalBg) modalBg.style.display = "none";
    });

    // снег
    function createSnow() {
        const snow = document.createElement("div");
        snow.classList.add("snowflake");
        snow.style.left = Math.random() * 100 + "vw";
        snow.style.animationDuration = 3 + Math.random() * 5 + "s";
        snow.style.opacity = Math.random();
        snow.style.fontSize = 10 + Math.random() * 20 + "px";
        snow.innerHTML = "❄";
        document.body.appendChild(snow);

        setTimeout(() => snow.remove(), 8000);
    }

    setInterval(createSnow, 150);
</script>

</body>
</html>
